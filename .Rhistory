load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
seq_along(10)
seq(10)
load_all()
plot(res)
load_all()
plot(res)
rscu(cb)
rscu(cb)$s
rscu(cb)
load_all()
rscu(cb)
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()\
load_all()
plot(res)
load_all()
plot(res)
rscu(cb)
rscu(cb)
rsc <- rscu(cb)
load_all()
plot(res)
plot(rsc)
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
library(ggplot2)
?geom_text
load_all()
theme_set(ggthemes::theme_few())
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
object <- rsc
dat <- as.data.frame(object) |>
dplyr::filter(rscu > 0, aa != '*') |>
dplyr::arrange(aa, rscu) |>
dplyr::mutate(aa = forcats::fct_reorder(aa, rscu, sum)) |>
dplyr::mutate(codon = forcats::fct_reorder(codon, seq(dplyr::n()))) |>
dplyr::mutate(fill  = as.numeric(cut(rscu, 5)))
object
class(rsc)
dat <- as.data.frame(object) |>
dplyr::filter(rscu > 0, aa != '*') |>
dplyr::arrange(aa, rscu) |>
dplyr::mutate(aa = forcats::fct_reorder(aa, rscu, sum)) |>
dplyr::mutate(codon = forcats::fct_reorder(codon, seq(dplyr::n()))) |>
dplyr::mutate(fill  = as.numeric(cut(rscu, 5)))
dat <- as.data.frame(object) |>
dplyr::filter(rscu > 0, aa != '*') |>
dplyr::arrange(aa, rscu) |>
dplyr::mutate(aa = forcats::fct_reorder(aa, rscu, sum)) |>
dplyr::mutate(codon = forcats::fct_reorder(codon, seq(dplyr::n()))) |>
dplyr::mutate(fill  = as.numeric(cut(rscu, 5)))
as.data.frame(rsc)
as.data.frame(object)
load_all()
rscu(cb)
rsc <- rscu(cb)
class(rsc)
as.data.frame(rsc)
rm(as.data.frame)
as.data.frame(rsc)
dat <- as.data.frame(object) |>
dplyr::filter(rscu > 0, aa != '*') |>
dplyr::arrange(aa, rscu) |>
dplyr::mutate(aa = forcats::fct_reorder(aa, rscu, sum)) |>
dplyr::mutate(codon = forcats::fct_reorder(codon, seq(dplyr::n()))) |>
dplyr::mutate(fill  = as.numeric(cut(rscu, 5)))
dat
ggplot2::ggplot(
data = dat,
mapping = ggplot2::aes(x = aa, y = rscu, label = codon, fill = fill)) +
ggplot2::geom_bar(stat = 'identity', position = 'stack') +
ggplot2::geom_text(hjust = 'outward', size = 3, color = 'gray10') +
scale_fill_binned() +
ggplot2::coord_flip()
load_all()
plot(res)
load_all()
plot(res)
load_all()
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
load_all()
plot(res)
rsc@data$S
rsc@data$R
rsc@data$L
rsc@data$V
rsc@data$T
cb <- cs@data[[4]]
rsc <- rscu(cb)
plot(rsc)
rsc
setMethod('rscu', signature('CubSet'), function(x, each = FALSE) {
if (each) {
return(lapply(x@data, rscu))
} else {
res <- unlist(lapply(x@data, I))
res <- table(res)
res <- setNames(res, names(res))
return(new('RSCU', res))
}
})
setMethod('rscu', signature('CubSet'), function(x, each = TRUE) {
standardGeneric("rscu")
})
setMethod('rscu', signature('CubSet'), function(object, each = TRUE) {
standardGeneric("rscu")
})
setMethod('rscu', signature('CubSet'), function(object, each = FALSE) {
if (each) {
return(lapply(object@data, rscu))
} else {
res <- unlist(lapply(object@data, I))
res <- table(res)
res <- setNames(res, names(res))
return(new('RSCU', res))
}
})
rsc <- rscu(cs)
setMethod('rscu', signature('CubSet'), function(object, each = FALSE) {
if (each) {
return(lapply(object@data, rscu))
} else {
res <- unlist(lapply(object@data, unlist))
res <- table(res)
res <- setNames(res, names(res))
return(new('RSCU', res))
}
})
rsc <- rscu(cs)
rm(object)
rm(count)
load_all()
rsc <- rscu(cs)
class(cs)
object <- rsc
res <- unlist(lapply(object@data, unlist))
res
object <- cs
res <- unlist(lapply(object@data, unlist))
res
res <- c(lapply(object@data, unlist))
res
res <- c(lapply(object@data, @, 'data'))
res <- c(lapply(object@data, function(datum) { datum@data }))
res
res <- unlist(lapply(object@data, function(datum) { datum@data }))
res
res <- table(res)
res
length(cs@data)
sum(res)
length(cs@data)
length(cs@data[[1]])
length(cs@data[1])
object
length(object@data)
sum(res)
res <- setNames(res, names(res))
new('RSCU', res)
res
class(res)
setMethod('rscu', signature('CubSet'), function(object, each = FALSE) {
if (each) {
return(lapply(object@data, rscu))
} else {
res <- unlist(lapply(object@data, function(datum) { datum@data }))
res <- table(res)
res <- setNames(as.vector(res), names(res))
return(new('RSCU', res))
}
})
rscu(cs)
RSCU(res)
setMethod('rscu', signature('CubSet'), function(object, each = FALSE) {
if (each) {
return(lapply(object@data, rscu))
} else {
res <- unlist(lapply(object@data, function(datum) { datum@data }))
res <- table(res)
res <- setNames(as.vector(res), names(res))
return(RSCU(res))
}
})
rscu(cs)
prs <- rscu(cs)
plot(prs)
cs <- CubSet(dna)
load_all()
cs <- CubSet(dna)
load_all()
cs <- CubSet(dna)
load_all()
cs <- CubSet(dna[1:1000])
cs <- CubSet(dna[1:100])
load_all()
cs <- CubSet(dna[1:1000])
rsc <- rscu(cs)
plot(rsc)
plot(rsc)
cs <- CubSet(dna[1:2000])
plot(rsc)
cs01 <- CubSet(dna[1:2000])
rsc01 <- rscu(cs01)
plot(rsc01)
dna2 <- PAO1CDS
dna
dna2
cs02 <- CubSet(dna2[1:2000])
rsc02 <- rscu(cs02)
plot(rsc02)
par(mfrow = c(1, 2))
plot(rsc01)
plot(rsc02)
rsc01 == rsc02
library(cub)
dna
dna <- PAO1CDS[[1]]
dna
cub('a', dna)
cb <- cub('a', dna)
print(cb)
summary(cb)
RSCU()
cub::RSCU
??cub
?cub
load_all()
library(devtools)
load_all()
summary(cb)
plot(cb)
rscu(cb)
print(cb)
show(cb)
rscu()
rscu
RSCU
dna <- PAO1CDS
rscu(dna)
cb <- cub(dna)
cb <- cub('PA14 codons', dna)
cb <- CubSet('PA14 codons', dna)
cb <- CubSet(dna)
plot(cb)
rscu(cb)
rs <- rscu(cb)
plot(rs)
load_all()
plot(rs)
load_all()
plot(rs)
as.data.frame(rs)
?data.frame
load_all()
as.data.frame(rs)
load_all()
as.data.frame(rs)
load_all()
methods(class = class(cb))
?rscu
?RSCU
library(cub)
?rscu
?RSCU
roxygen2::roxygenise()
library(cub)
?RSCU
cd
cb
rs
show(rs)
print(rs)
methods(clas = class(rs))
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
load_all()
roxygen2::roxygenise()
use_package_doc()
roxygen2::roxygenise()
update_collate()
library(roxygen2)
update_collate()
rixygenize()
roxygenise()
?update_collate()
roxygen2::roxygenise()
load_all()
rlang::last_error()
source("~/dev/cub/R/Classes.R")
load_all()
load_all()
library(cub)
library(cub)
cb
dna
rs
plot(rs)
cub('a', PA14CDS[[1]])
a <- cub('a', PA14CDS[[1]])
rscu(a)
plot(a)
plot(rscu(a))
roxygen2::roxygenise()
?plot
?rscu
library(cub)
?rscu
Cub(PA14CDS)
cub('a', PA14CDS[[1]])
dat <- cub('a', PA14CDS[[1]])
show(dat)
summary(dat)
print(dat)
load_all()
load_all()
dat
load_all()
load_all()
class(summary)
?summary
load_all()
library(Biostrings)
usethis::use_package('Biostrings')
load_all()
library(cub)
roxygenise()
rscu(PA14[[1]])
rscu(PA14CDS[[1]])
rscu(cub(PA14CDS[[1]]))
rscu(cub('a', PA14CDS[[1]]))
library(cub)
roxygenise()
roxygenise()
Cub('A DNA', PA14CDS[[1]]) |> rscu()
Cub('A DNA', PA14CDS[[1]]) |> rscu() |> as.data.frame()
Cub('A DNA', PA14CDS[[1]]) |> rscu() |> as.data.frame()
Cub('a', PA14CDS[[1]])
Cub('a', PA14CDS[[1]]) |> rscu()
Cub('a', PA14CDS[[1]]) |> rscu() |> as.data.frame()
load_all()
roxygenize()
library(cub)
library(cub)
roxygenize()
roxygenize()
roxygenize()
library(cub)
?rscu
x <- Cub(PA14CDS)
x <- Cub('a', PA14CDS)
x <- Cub('a', PA14CDS[[1]])
x
x <- rscu(x)
x
as.data.frame(x)
print(knitr::kable(x))
print(knitr::kable(as.data.frame(x)))
knitr::kable(as.data.frame(x))
